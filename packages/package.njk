---
layout: layout.njk
permalink: "packages/{{ pkg.name | safe }}/"
pagination:
  data: collections.packages
  size: 1
  alias: pkg
eleventyComputed:
  title: "{{ pkg.name }}"
  description: "{{ pkg.description | default('') }}"
---

{% import "packages/macros.njk" as pack %}

<h1>{{ pkg.name }}</h1>
{% if pkg.description %}
<p class="description">{{ pkg.description }}</p>
{% endif %}

<p>
  By
  {% for author in pkg.author -%}
    {% set q = 'author:"' ~ author ~ '"' %}
    <a href="/?q={{ q | urlencode }}">{{ author }}</a>{{ ", " if not loop.last }}
  {%- endfor %}
  {% if pkg.created_at %}
    <br>
    Since {{ pkg.created_at | date_format }}
  {% endif %}
</p>

{{ pack.stars(pkg.stars) }}
{{ pack.labels(pkg.platforms, pkg.labels) }}

{% if pkg.releases | length > 1 %}
  <h2>Versions</h2>
{% else %}
  <h2>Version</h2>
{% endif %}

{% for release in pkg.releases %}
  <p><a class="release" href="{{ release.url }}">{{ release.version }}</a>
  {% if release.sublime_text != "*" %}
    <span class="requirement">({{ release.sublime_text }})</span>
  {% endif %}
  <br>
  {{ release.date }}
  {% if release.platforms | length > 0 %}
    — {{ release.platforms | join(', ') }}
  {% endif %}
  </p>
{% endfor %}

{% if pkg.otherReleases and pkg.otherReleases | length > 0 %}
<details class="other-releases">
  <summary>Other releases</summary>
  <ul>
    {% for release in pkg.otherReleases %}
      <li>
        <a class="release" href="{{ release.url }}">{{ release.version }}</a>
        {% if release.sublime_text != "*" %}
          <span class="requirement">({{ release.sublime_text }})</span>
        {% endif %}
        <br>
        {{ release.date }}
        {% if release.platforms | length > 0 %}
          — {{ release.platforms | join(', ') }}
        {% endif %}
      </li>
    {% endfor %}
  </ul>
</details>
{% endif %}

<h2>Links</h2>

<ul class="button-group links">
  {% if not "packagecontrol.io" in pkg.homepage | lower and pkg.details != pkg.homepage %}
  <li>
    <a class="button" href="{{ pkg.homepage }}">{{ pack.logo('home') }} <span>Website</span></a>
  </li>
  {% endif %}
  {% if pkg.details %}
  <li>
    <a class="button" href="{{ pkg.details }}">{{ pack.logo('repo') }} <span>Repository</span></a>
  </li>
  {% endif %}
  {% if pkg.readme %}
  <li>
    <a class="button" href="{{ pkg.readme }}">{{ pack.logo('file') }} <span>README</span></a>
  </li>
  {% endif %}
  {% if pkg.issues %}
    <li>
    <a class="button" href="{{ pkg.issues }}">{{ pack.logo('bug') }} <span>Issues</span></a>
  </li>
  {% endif %}
  {% if pkg.donate %}
    <li>
    <a class="button" href="{{ pkg.donate }}">{{ pack.logo('gift') }} <span>Donate</span></a>
  </li>
  {% endif %}
</ul>

{% if pkg.readme %}
<section id="md" class="readme" data-readme-url="{{ pkg.readme }}"></section>
<script src="/static/readme.js" type="module" async></script>
{% endif %}
