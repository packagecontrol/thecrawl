---
layout: layout.njk
date: Last Modified
---

{% import "packages/macros.njk" as pack %}

<script>
  (function(){
    const q = new URLSearchParams(location.search).get('q');
    if (q) {
      document.documentElement.setAttribute('bootstrapping', '');
      document.write('<style>section[name="newest"], section[name="recent"] { display: none; } h1 { visibility: hidden; }</style>');
    }
    setTimeout(() => {
      document.documentElement.removeAttribute('bootstrapping');
    }, 1000);
  })();
</script>

<h1 data-all="{{ collections.packages | length }}">
  {{ collections.packages | length }}
  Packages
</h1>

<form name="search">
  <div class="search-controls">
    <label for="search-field" class="screenreader-only">Search</label>
    <input type="search" autocomplete="off" name="q" id="search-field" placeholder="Search packages ...">

    <div class="button">
      <label for="sort-field">Sort by</label>
      <select name="sort-field" id="sort-field">
        <option value="relevance" selected>Magic</option>
        <option value="name">Name (A-Z)</option>
        <option value="name-desc">Name (Z-A)</option>
        <option value="stars">Stars (9-0)</option>
        <option value="stars-desc">Stars (0-9)</option>
        <option value="author">Author (A-Z)</option>
        <option value="author-desc">Author (Z-A)</option>
      </select>
    </div>
  </div>

  {{ pack.labels(['linux','macos','windows'], ['language syntax','snippets','linting','auto-complete','color scheme','theme']) }}
</form>

<script>
  (function(){
    const q = new URLSearchParams(location.search).get('q');
    if (q) {
      document.forms.search.elements['q'].value = q
    }
  })();
</script>

<section name="newest">
  <h2>Newest</h2>
  <ul class="grid">
    {% for pkg in collections.newest_packages %}
      <li>
        {{ pack.card(pkg) }}
      </li>
    {% endfor %}
  </ul>
</section>

<section name="recent">
  <h2>Recently updated</h2>
  <ul class="grid">
    {% for pkg in collections.updated_packages %}
      <li>
        {{ pack.card(pkg) }}
      </li>
    {% endfor %}
  </ul>
</section>

<section name="result" style="display:none;">
  <h2>Results</h2>
  <ul class="grid"></ul>
</section>

{% import "packages/macros.njk" as pack %}
<template id="package-card">
  {{ pack.card({
    "name": "placeholder-name",
    "description": "placholder-description",
    "author": "placeholder-author",
    "stars": 666,
    "platforms": [],
    "labels": [],
    "permalink": "placeholder-permalink"
  }) }}
</template>

<script src="/static/index.js" type="module" async></script>
